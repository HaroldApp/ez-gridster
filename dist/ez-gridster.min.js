"use strict";angular.module("ez.gridster",[]).constant("EzGridsterConfig",{widget_template:"ez-gridster-widget.html",resize:{enabled:!0}}).factory("GridsterWrapper",["$compile","$timeout","$templateCache",function(a,b,c){return function(b,d,e){return d.$on("$destroy",function(){b.destroy()}),b.getWidgetTemplate=function(f){this.widgetTemplate||(this.widgetTemplate=c.get(e.widget_template));var g=d.$new();return g.widget=f,g.gridster=b,a(angular.element(this.widgetTemplate).get(0))(g)},b.setWidgets=function(a,b){this.remove_all_widgets();var c=this;angular.forEach(a,function(a){b&&angular.extend(a,b),c.addWidget(a)})},b.addWidget=function(a){return this.add_widget(this.getWidgetTemplate(a),a.size_x,a.size_y,a.col,a.row)},b}}]).directive("ezGridster",["EzGridsterConfig","GridsterWrapper",function(a,b){return{restrict:"A",scope:{ezGridster:"=",ezGridsterConfig:"=?"},compile:function(c){return c.addClass("gridster").append("<ul></ul>"),function(c,d){var e=angular.extend({},a,c.ezGridsterConfig);c.ezGridster=new b(d.find("ul").gridster(e).data("gridster"),c,e)}}}}]);